import{s as e,d as t,a,b as n}from"./index.6562b093.js";import{f as l,$ as i,g as o,a3 as s,n as r,q as d,v as u,o as c,c as y,a as m,a1 as p,A as g,r as f,al as h}from"./vendor.1f3a7470.js";const b=l({emits:["update:myValue"],props:{myValue:{type:String,default:""},slotStyle:{type:Object,default:()=>{}},height:{type:[String,Number],default:500},width:{type:[String,Number],default:500},plugins:{type:[String,Array],default:"lists fullscreen emoticons autosave image table wordcount emoticons"},toolbar:{type:[String,Array],default:"bold italic underline strikethrough restoredraft image fullscreen emoticons | fontsizeselect | forecolor backcolor | alignleft aligncenter alignright alignjustify|bullist numlist |outdent indent blockquote | undo redo | removeformat"},url:{required:!0,type:String,default:""},data:{type:Array,default:()=>[{key:"type",value:0}]}},setup(e,a){i((()=>{e.height,window.tinymce.init({selector:`#${u}`,branding:!1,language_url:"/static/zh_CN.js",language:"zh_CN",height:e.height,width:e.width,plugins:n,toolbar:l,content_style:"div,p{margin:5px 0;}img{max-width:100%;}*::-webkit-scrollbar{width:6px;height:6px;background:transparent;}*::-webkit-scrollbar-thumb{border-radius: 3px;background: #bac3d9;}",images_upload_handler:(a,n,l)=>{let i=new FormData;i.append("file",a.blob(),a.filename()),e.data.forEach((e=>{i.append(e.key,e.value)})),t.post(e.url,i).then((e=>{200===e.data.code?n(e.data.data.url):l("上传失败")}))},init_instance_callback:function(e){d.value=!0}})}));let n=e.plugins,l=e.toolbar,d=o(!1),u="vue-tinymce-"+ +new Date;return s((()=>{d.value&&""!=e.myValue&&r((()=>{window.tinymce.get(u).setContent(e.myValue)}))})),{tinymceId:u,hasInit:d,getContentFun:function(){a.emit("update:myValue",window.tinymce.get(u).getContent())}}}}),v=g("data-v-424bcd50");d("data-v-424bcd50");const w={class:"tinymce-editor"};u();const x=v(((e,t,a,n,l,i)=>(c(),y("div",w,[m("textarea",{class:"tinymce-textarea",id:e.tinymceId},null,8,["id"]),m("div",{onClick:t[1]||(t[1]=(...t)=>e.getContentFun&&e.getContentFun(...t)),style:e.slotStyle},[p(e.$slots,"default")],4)]))));b.render=x,b.__scopeId="data-v-424bcd50";var _=l({name:"modulesRichText",components:{tinyMce:b},setup(){a(),n();let t=o(""),l=o(null);return e({url:"modules/richText"}).then((e=>{t.value=e.data})),{myValue:t,getTinyMceFun:function(e){console.log("获取富文本数据",t.value)},scroll:l}}});const k=g("data-v-4fa091ad");d("data-v-4fa091ad");const V={class:"app-container"},C=m("div",{class:"operate-container"},[m("div",null,[m("i",{class:"viteIcon viteZJ-fuwenben",style:{"margin-right":"5px"}}),m("span",null,"富文本编辑器")])],-1),S={class:"lineTinyBox"},T=h(" 确认 "),j={class:"phoneBox"};u();const F=k(((e,t,a,n,l,i)=>{const o=f("el-button"),s=f("tiny-mce"),r=f("el-scrollbar"),d=f("el-card");return c(),y("div",V,[m(d,{shadow:e.defalutData.cardShadow},{default:k((()=>[C,m("div",S,[m(s,{width:"100%",myValue:e.myValue,"onUpdate:myValue":t[2]||(t[2]=t=>e.myValue=t),height:667,url:"图片路径",ref:"tinymce",slotStyle:{display:"flex",justifyContent:"center",padding:"10px 0 0"}},{default:k((()=>[m(o,{type:"primary",onClick:t[1]||(t[1]=t=>e.getTinyMceFun(e.tintMceKey))},{default:k((()=>[T])),_:1})])),_:1},8,["myValue"]),m("div",j,[m(r,{style:{height:"667px"},class:"vHtml",ref:"scroll"},{default:k((()=>[m("div",{innerHTML:e.myValue},null,8,["innerHTML"])])),_:1},512)])])])),_:1},8,["shadow"])])}));_.render=F,_.__scopeId="data-v-4fa091ad";export default _;
