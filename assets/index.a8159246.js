import{i as e,L as a}from"./index.bc823562.js";import{q as t,v as o,o as i,c as l,a as s,t as n,G as r,m as d,A as c,e as h,r as m,F as p,j as u,d as v,f as y,k as f}from"./vendor.3c20cdd8.js";import{s as g,u as b}from"./index.e9524477.js";const w={props:{echartsId:String,colors:Array,information:Object,title:String,isSlot:{type:Boolean,default:!1},height:{type:[Number,String],default:250},types:{type:String,default:""}},data:()=>({current:0}),mounted(){},watch:{information:{deep:!0,immediate:!0,handler(e,a){if(e.horizontalList){let t=!a.homeDateInfoResult||e.homeDateInfoResult.length!=a.homeDateInfoResult.length;switch(this.types){case"line":this.drawChart(t);break;case"pie":this.cakeChart();break;default:this.pillarChart()}}}}},methods:{typeSwipt(e){this.current=e},drawChart(a){let t=e(document.getElementById(this.echartsId)),o={color:this.colors,tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},grid:{left:"0%",right:"0%",bottom:"3%",top:"5%",containLabel:!0},title:{},xAxis:{type:"category",boundaryGap:!1,data:this.information.horizontalList},yAxis:[{type:"value"}],series:this.information.homeDateInfoResult};t.setOption(o,a),window.addEventListener("resize",(()=>{t.resize()}))},pillarChart(){let a=e(document.getElementById(this.echartsId)),t=this.information.homeDateInfoResult.map(((e,a)=>({type:"bar",data:e.data,name:e.name}))),o={color:[this.themeColor,"#36a3f7","#f4516c"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{top:30,right:0,data:this.information.homeDateInfoResult.map((e=>e.name))},title:{},xAxis:{type:"category",data:this.information.horizontalList},yAxis:[{type:"value"}],series:t};a.setOption(o),window.addEventListener("resize",(()=>{a.resize()}))},cakeChart(){let a=e(document.getElementById(this.echartsId)),t={center:["30%","50%"],type:"pie",radius:["45%","70%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:10},label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:"15",fontWeight:"bold",formatter:"{b} \n\n {d}%"}},labelLine:{show:!1}};t.data=this.information.horizontalList.map(((e,a)=>({value:e.value,name:e.name})));let o={color:this.colors,tooltip:{trigger:"item"},legend:{y:"center",right:"5%",orient:"vertical",backgroundColor:"rgb(228, 230, 255)",borderRadius:5,padding:[25,15,25,15],icon:"pin"},title:{},series:t};a.setOption(o),window.addEventListener("resize",(()=>{a.resize()}))}}},x=c("data-v-1631a6ea");t("data-v-1631a6ea");const S={style:{position:"relative"}},k={class:"echartTitle"},C={key:0,class:"topOperate"};o();const D=x(((e,a,t,o,c,h)=>(i(),l("div",S,[s("div",k,n(t.title),1),t.isSlot?(i(),l("div",C,[r(e.$slots,"default"),r(e.$slots,"lineColor"),r(e.$slots,"timeSwiper")])):d("",!0),s("div",{id:t.echartsId,style:{width:"100%",height:t.isSlot?t.height-30-45+"px":t.height-30+"px"}},null,12,["id"])]))));w.render=D,w.__scopeId="data-v-1631a6ea";var I=h({props:{count:{type:Object,default:{}},height:{type:[Number,String],default:50}},components:{}});const L=c("data-v-6700b6a9");t("data-v-6700b6a9");const _={style:{"margin-bottom":"20px"}},E={class:"warp"},z={class:"text"},A={class:"num"};o();const B=L(((e,a,t,o,r,d)=>{const c=m("el-card");return i(),l("div",_,[s("div",{class:"grid",style:{height:e.height+"px"}},[(i(!0),l(p,null,u(e.count,((a,t)=>(i(),l(c,{key:a.value,class:["card-panel","item"+t],shadow:e.defalutData.cardShadow,"body-style":{background:a.color,padding:"10px",height:e.height+"px",boxSizing:"border-box"}},{default:L((()=>[s("div",{class:["icon-people","viteIcon",a.icon]},null,2),s("div",E,[s("div",z,n(a.title),1),s("div",A,n(a.value||0),1)])])),_:2},1032,["class","shadow","body-style"])))),128))],4)])}));I.render=B,I.__scopeId="data-v-6700b6a9";const O={props:{echartsId:String,dataECharts:Object,title:String},data:()=>({}),mounted(){},watch:{dataECharts:{deep:!0,immediate:!0,handler(e){console.log(e),this.drawChart(this.dataECharts)}}},mounted(){},methods:{drawChart(a){var t=this.$refs.chart;if(t){let o=e(t),i={tooltip:{trigger:"axis"},legend:{data:a.series.map((e=>e.name))},grid:{left:"5%",right:"3%"},toolbox:{show:!0,feature:{dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:a.xAxisData},yAxis:{type:"value",axisLabel:{formatter:"{value} 元"}},series:[{name:a.series[0].name,type:"line",data:a.series[0].data,markPoint:{data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}]},itemStyle:{color:"#5bd1db"},lineStyle:{width:3},markLine:{label:{show:!0,position:"middle",formatter:"{b}: {c} 元"},symbol:"none",data:[{type:"average",name:"平均值"}]}},{name:a.series[1].name,type:"line",data:a.series[1].data,markPoint:{data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}]},itemStyle:{color:"#00ef09"},lineStyle:{width:3},markLine:{label:{show:!0,position:"middle",formatter:"{b}: {c} 元"},symbol:"none",data:[{type:"average",name:"平均值"}]}},{name:a.series[2].name,type:"line",data:a.series[2].data,markPoint:{data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}]},itemStyle:{color:"#EB5252"},lineStyle:{width:3},markLine:{label:{show:!0,position:"middle",formatter:"{b}: {c} 元"},symbol:"none",data:[{type:"average",name:"平均值"}]}},{name:a.series[3].name,type:"line",data:a.series[3].data,markPoint:{data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}]},itemStyle:{color:"#C8B2F4"},lineStyle:{width:3},markLine:{label:{show:!0,position:"middle",formatter:"{b}: {c} 元"},symbol:"none",data:[{type:"average",name:"平均值"}]}},{name:a.series[4].name,type:"line",data:a.series[4].data,markPoint:{data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}]},itemStyle:{color:"#FFCB8C"},lineStyle:{width:3},markLine:{label:{show:!0,position:"middle",formatter:"{b}: {c} 元"},symbol:"none",data:[{type:"average",name:"平均值"}]}}]};o.setOption(i)}}}},P={class:""};O.render=function(e,a,t,o,n,r){return i(),l("div",P,[s("div",{id:t.echartsId,ref:"chart",style:{width:"100%",height:"250px"}},null,8,["id"])])};let R=[{label:"姓名",poprs:[{popr:"name"}]},{label:"头像",poprs:[{type:"image",popr:"head",data:{preview:!0,style:{width:"40px",height:"40px",borderRadius:"50%"}}}]},{label:"性别",poprs:[{popr:"gender"}]},{label:"内容",poprs:[{popr:"content"}]},{label:"时间",poprs:[{popr:"date"}]},{label:"邮箱",poprs:[{popr:"email"}]},{label:"状态",poprs:[{popr:"status",filter:[{key:!0,value:"提交成功"},{key:!1,value:"提交失败"}]}]}];const j=[{icon:"vitehome-user",title:"粉丝",value:"",key:"users",color:"#646cff "},{icon:"vitehome-wengzhang",title:"文章",value:"",key:"shoppings",color:"#9d5aff  "},{icon:"vitehome-liulanliang",title:"浏览量",value:"",key:"pageview",color:"#55bcff "},{icon:"vitehome-done",title:"已提交",value:"",key:"done",color:"#F6A829 "}];var F=h({name:"home",components:{homeEcharts:w,PanelGroup:I,lineBarEcharts:O},setup(){const e=[{opacity:.2,color:new a(0,0,0,1,[{offset:0,color:"rgb(157, 90, 255)"},{offset:1,color:"rgb(157, 90, 255)"}])},{opacity:.2,color:new a(0,0,0,1,[{offset:0,color:b().state.settings.themeColor},{offset:1,color:b().state.settings.themeColor}])}],t=["rgb(157, 90, 255)",b().state.settings.themeColor,"#F6A829","rgb(85, 188, 255)"];let o=v(j),i=v({value:{}}),l=v({value:{}}),s=v(null),n=v({value:[]}),r=y(0),d=v(null),c=v(null),h=v({value:{},chart:{}}),m=v({pageSize:3,pageNum:1}),p=v({value:[]}),u=v(R),f=y("Month");function w(a,o="Month"){var l;f.value=o,n.value=[],(l={status:a,period:o},g({url:"home/chart",params:l})).then((a=>{a.data.homeDateInfoResult.forEach(((a,o)=>{a.areaStyle=e[o],n.value.push({name:a.name,color:t[o]})})),i.value=a.data}))}function x(e){var a;Object.assign(m,e||{}),(a=m,g({url:"home/table",params:a})).then((e=>{p.value=e.data.list}))}return x(),g({url:"home/count"}).then((e=>{o.forEach((a=>{a.value=e.data[a.key]}))})),w(0),g({url:"home/pageviewChart"}).then((e=>{l.value=e.data})),g({url:"home/earnings"}).then((a=>{h.value=a.data.money,a.data.chart.homeDateInfoResult.forEach(((a,t)=>{a.areaStyle=e[t]})),h.chart=a.data.chart})),{count:o,chart:i,pageviewData:l,earnings:h,colors:t,list:p,tbConfig:u,current:r,user:s,userLineColor:n,findTime:f,reform:d,handleGetTable:x,investigation:c,typeSwitch:function(e){r.value=e,w(e)},command:function(e){w(r.value,e)}}}});const G=c("data-v-76452bf7");t("data-v-76452bf7");const M={class:"grid"},T={class:"eachDiv eachDiv1"},$={class:"typeSwitch"},N={class:"lineColor"},W={class:"timeDropdown"},q={class:"el-dropdown-link"},V=s("i",{class:"el-icon-arrow-down el-icon--right"},null,-1),Z=f("Month"),H=f("Fifteen"),J=f("Seven"),K={class:"eachDiv eachDiv2"},Q={class:"moneyGrid"},U=s("div",{class:"viteIconBg"},[s("i",{class:"viteIcon vitehome-daymoney"})],-1),X={class:"text"},Y={class:"money"},ee=s("span",{class:"title"},"今日收益",-1),ae={class:"increase"},te={class:"el-icon-top"},oe=s("div",{class:"viteIconBg yellow"},[s("i",{class:"viteIcon vitehome-zongshouyi"})],-1),ie={class:"text"},le={class:"money"},se=s("span",{class:"title"},"总收益",-1),ne={class:"increase"},re={class:"el-icon-top"},de={class:"eachDiv eachDiv3"},ce={class:"echartsBox"},he={class:"un-handle-layout"},me={class:"eachDiv eachDiv4"},pe=s("h3",{style:{margin:"0 0 10px 0",display:"flex","justify-content":"space-between"}},[s("span",null,"提交列表")],-1),ue={class:"un-handle-layout"};o();const ve=G(((e,a,t,o,r,d)=>{const c=m("panel-group"),h=m("el-dropdown-item"),v=m("el-dropdown-menu"),y=m("el-dropdown"),g=m("homeEcharts"),b=m("el-card"),w=m("powerful-table");return i(),l("div",null,[s("div",M,[s("div",T,[s(c,{count:e.count,height:90},null,8,["count"]),s(b,{shadow:e.defalutData.cardShadow},{default:G((()=>[s(g,{isSlot:!0,echartsId:"chart",height:400,colors:e.colors,information:e.chart.value,title:"12个月用户登录曲线图",types:"line"},{default:G((()=>[s("div",$,[(i(!0),l(p,null,u(e.count,((a,t)=>(i(),l("div",{key:"switch"+t,style:{background:e.current==t?e.themeColor:"",transition:"all .2s"},class:{"s-active":e.current==t},onClick:a=>e.typeSwitch(t)},n(a.title),15,["onClick"])))),128))])])),lineColor:G((()=>[s("div",N,[(i(!0),l(p,null,u(e.userLineColor.value,(e=>(i(),l("div",{key:e.color},[s("i",{style:{background:e.color}},null,4),s("span",null,n(e.name),1)])))),128))])])),timeSwiper:G((()=>[s("div",W,[s(y,{onCommand:e.command},{dropdown:G((()=>[s(v,null,{default:G((()=>[s(h,{command:"Month"},{default:G((()=>[Z])),_:1}),s(h,{command:"Fifteen"},{default:G((()=>[H])),_:1}),s(h,{command:"Seven"},{default:G((()=>[J])),_:1})])),_:1})])),default:G((()=>[s("span",q,[f(n(e.findTime),1),V])])),_:1},8,["onCommand"])])])),_:1},8,["colors","information"])])),_:1},8,["shadow"])]),s("div",K,[s("div",Q,[s(b,{shadow:e.defalutData.cardShadow,class:"eachDiv"},{default:G((()=>[U,s("div",X,[s("div",Y,"￥"+n(e.earnings.value.dayMoney),1),ee]),s("div",ae,[s("i",te,n(e.earnings.value.dayPercentage)+"%",1)])])),_:1},8,["shadow"]),s(b,{shadow:e.defalutData.cardShadow,class:"eachDiv"},{default:G((()=>[oe,s("div",ie,[s("div",le,"￥"+n(e.earnings.value.totalMoney),1),se]),s("div",ne,[s("i",re,n(e.earnings.value.totalPercentage)+"%",1)])])),_:1},8,["shadow"]),s(b,{shadow:e.defalutData.cardShadow,"body-style":{padding:"20px"},class:"eachDiv eachDiv-3"},{default:G((()=>[s(g,{echartsId:"earnings",height:320,colors:e.colors,information:e.earnings.chart,types:"line",title:"收益折线图"},null,8,["colors","information"])])),_:1},8,["shadow"])])]),s("div",de,[s(b,{shadow:e.defalutData.cardShadow},{default:G((()=>[s("div",ce,[s("div",he,[s(g,{echartsId:"pageviewData",height:270,colors:e.colors,information:e.pageviewData.value,types:"pie",title:"浏览量饼状图"},null,8,["colors","information"])])])])),_:1},8,["shadow"])]),s("div",me,[s(b,{shadow:e.defalutData.cardShadow},{default:G((()=>[pe,s("div",ue,[s(w,{isSelect:!1,isPagination:!1,list:e.list.value,header:e.tbConfig},null,8,["list","header"])])])),_:1},8,["shadow"])])])])}));F.render=ve,F.__scopeId="data-v-76452bf7";export default F;
